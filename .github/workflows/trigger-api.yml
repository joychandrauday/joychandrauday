name: Trigger API Every 5 Minutes

on:
  schedule:
    - cron: "*/5 * * * *"
  workflow_dispatch:

jobs:
  call-api:
    runs-on: ubuntu-latest

    steps:
      - name: Call API
        run: |
          echo "ğŸš€ Trigger started at $(date)"
          
          echo "ğŸ“¡ Calling API..."
          response=$(curl --fail -s https://api-anycomp.vercel.app/health)
          
          echo "âœ… API call successful!"
          echo "ğŸ“¦ Response:"
          echo "$response"
          
          echo "ğŸ Finished at $(date)"
